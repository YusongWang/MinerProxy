(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67402b0c"],{"0bf5":function(t,e,a){t.exports=a.p+"static/img/scale.1ca9865b.png"},"2eab":function(t,e,a){"use strict";a("df51")},5293:function(t,e,a){t.exports=a.p+"static/img/share.6e444c45.png"},"88f8":function(t,e,a){t.exports=a.p+"static/img/payment.b648dde0.png"},"8b11":function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{attrs:{source:t.current,coin:t.coin},on:{onSelect:t.onSelect}}),a("status-group",{attrs:{source:t.current}}),a("el-row",{staticClass:"chart-box"},[a("div",{staticClass:"shadow"}),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("home.poolData")))])]),t.lineChartData?a("line-chart",{attrs:{"chart-data":t.lineChartData}}):t._e()],1),a("el-row",{staticClass:"chart-box"},[a("div",{staticClass:"shadow"}),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("home.machinePerformance")))])]),t.performanceChartData?a("performance",{attrs:{"chart-data":t.performanceChartData,"class-name":"performance"}}):t._e()],1),a("el-row",{staticClass:"announcement-group",attrs:{gutter:40}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"card-announcement"},[a("div",{staticClass:"title"},[a("span",{staticClass:"icon gonggao"}),a("span",[t._v(t._s(t.$t("home.announcement")))])]),a("div",{staticClass:"content announcement-content"},[t.announcement?a("markdown-to-html",{attrs:{value:t.announcement}}):t._e()],1)])]),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"card-announcement"},[a("div",{staticClass:"title"},[a("span",{staticClass:"icon rizhi"}),a("span",[t._v(t._s(t.$t("home.logInfo")))])]),a("div",{staticClass:"content log"},[t.version?a("markdown-to-html",{attrs:{value:t.version}}):t._e()],1)])])],1)],1)},r=[],s=a("1da1"),i=a("5530"),o=(a("96cf"),a("d81d"),a("b680"),a("d3b7"),a("159b"),a("b64b"),a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-group"},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.currency")))]),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("div",{staticClass:"value"},[a("svg-icon",{staticClass:"svg-icon",attrs:{"icon-class":t.coin}}),a("span",[t._v(t._s(t.coin))]),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"ETH"}},[t._v("ETH")]),a("el-dropdown-item",{attrs:{command:"ETC"}},[t._v("ETC")])],1)],1)],1),a("div",{staticClass:"card-panel"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.poolNumber"))+"("+t._s(t.$t("home.piece"))+")")]),a("div",{staticClass:"value",staticStyle:{color:"#46bc59"}},[t._v(t._s(t.source&&t.source.pool_length||0))])]),a("div",{staticClass:"card-panel"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.onlineMiner"))+"("+t._s(t.$t("home.tower"))+")")]),a("div",{staticClass:"value",staticStyle:{color:"#46bc59"}},[t._v(t._s(t.source&&+t.source.online_worker||0))])]),a("div",{staticClass:"card-panel"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.offlineMiner"))+"("+t._s(t.$t("home.tower"))+") ")]),a("div",{staticClass:"value",staticStyle:{color:"#fa6800"}},[t._v(t._s(t.source&&+t.source.offline_worker||0))])]),a("div",{staticClass:"card-panel"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.totalComputingPower")))]),a("div",{staticClass:"value"},[t._v(t._s(t.source&&+t.source.total_hash?t.$utils.unitFilter(t.source.total_hash).value:0)),a("span",{staticClass:"small"},[t._v(t._s(t.source&&+t.source.total_hash?t.$utils.unitFilter(t.source.total_hash).unit:""))])])]),a("div",{staticClass:"card-panel"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.runtime")))]),a("div",{staticClass:"value"},[t._v(t._s(t.source&&t.source.online_time?t.$utils.runtimeFilter(t.source.online_time):0))])])])}),c=[],l=a("5a0c"),u=a.n(l),h=a("d772");u.a.extend(h);var d={props:{source:{type:Object},coin:{type:String,default:"ETH"}},methods:{handleCommand:function(t){this.$emit("onSelect",t)}}},m=d,f=(a("2eab"),a("2877")),p=Object(f["a"])(m,o,c,!1,null,null,null),v=p.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},g=[],_=(a("b0c0"),a("313e")),C=a.n(_),w=a("ed08"),x={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(w["debounce"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d"),a("a524");var $=function(t){return t.map((function(t){return{name:t.name,itemStyle:{normal:{color:t.color[0],lineStyle:{color:t.color[0],width:2},areaStyle:{color:t.color[1]}}},smooth:!1,type:"line",data:t.data,suffix:t.suffix,animationDuration:2800,animationEasing:"cubicInOut"}}))},y={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},computed:{theme:function(){return this.$store.getters.theme}},watch:{chartData:{deep:!0,handler:function(t){console.log(t),this.chart.dispose(),this.chart=null,this.initChart({theme:"dark"===this.theme?"dark":"macarons"})}},theme:function(t){this.initChart({theme:"dark"===t?"dark":"macarons"})}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart({theme:"dark"===t.theme?"dark":"macarons"})}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var e=t.theme;this.chart=C.a.init(this.$el,e),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.series,a=t.xAxis;this.chart.setOption({animation:!1,backgroundColor:"",xAxis:{data:a,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10],formatter:function(t){for(var a=t[0].name+"<br/>",n=0,r=t.length;n<r;n++)a+=t[n].marker+t[n].seriesName+"："+t[n].value+(e[t[n].seriesIndex].suffix||"")+"<br/>";return a}},yAxis:{axisTick:{show:!1},minInterval:1},series:$(e)})}}},k=y,R=Object(f["a"])(k,b,g,!1,null,null,null),O=R.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status-group-panel-group"},[a("el-row",{attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"text"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.statusGroupOne")))]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.source&&+t.source.total_shares||0)+" / "+t._s(t.source&&+t.source.total_diff?t.$utils.unitFilter(t.source.total_diff).value:0)+" "),a("span",{staticClass:"small"},[t._v(" "+t._s(t.source&&+t.source.total_diff?t.$utils.unitFilter(t.source.total_diff).unit:"")+" ")])])]),a("div",{staticClass:"icon",style:'background-image: url("'+t.shareIcon+'")'})])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"text"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.statusGroupTwo")))]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.source&&+t.source.fee_shares||0)+" / "+t._s(t.source&&+t.source.fee_diff?t.$utils.unitFilter(t.source.fee_diff).value:0)+" "),a("span",{staticClass:"small"},[t._v(" "+t._s(t.source&&+t.source.fee_diff?t.$utils.unitFilter(t.source.fee_diff).unit:"")+" ")]),t._v(" / "+t._s(t.source&&+t.source.fee_rate||0)+" "),a("span",{staticClass:"small"},[t._v("%")])])]),a("div",{staticClass:"icon",style:'background-image: url("'+t.scaleIcon+'")'})])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"text"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("home.statusGroupThree")))]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.source&&+t.source.dev_shares||0)+" / "+t._s(t.source&&+t.source.dev_diff?t.$utils.unitFilter(t.source.dev_diff).value:0)+" "),a("span",{staticClass:"small"},[t._v(" "+t._s(t.source&&+t.source.dev_diff?t.$utils.unitFilter(t.source.dev_diff).unit:"")+" ")]),t._v(" / "+t._s(t.source&&+t.source.dev_rate||0)+" "),a("span",{staticClass:"small"},[t._v("%")])])]),a("div",{staticClass:"icon",style:'background-image: url("'+t.paymentIcon+'")'})])])],1)],1)},S=[],D=a("5293"),j=a("0bf5"),z=a("88f8"),T={props:{source:{type:Object}},data:function(){return{shareIcon:D,scaleIcon:j,paymentIcon:z}},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},H=T,M=(a("d873"),Object(f["a"])(H,E,S,!1,null,null,null)),I=M.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},P=[];a("817d"),a("a524");var A=function(t){return t.map((function(t){return{name:t.name,itemStyle:{normal:{color:t.color[0],lineStyle:{color:t.color[0],width:2},areaStyle:{color:t.color[1]}}},smooth:!1,type:"line",data:t.data,suffix:t.suffix,animationDuration:2800,animationEasing:"cubicInOut"}}))},F={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},computed:{theme:function(){return this.$store.getters.theme}},watch:{chartData:{deep:!0,handler:function(t){this.chart.dispose(),this.chart=null,this.initChart({theme:"dark"===this.theme?"dark":"macarons"})}},theme:function(t){this.initChart({theme:"dark"===t?"dark":"macarons"})}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart({theme:"dark"===t.theme?"dark":"macarons"})}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var e=t.theme;this.chart=C.a.init(this.$el,e),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.series,a=t.xAxis;this.chart.setOption({backgroundColor:"",xAxis:{data:a,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10],formatter:function(t){for(var a=t[0].name+"<br/>",n=0,r=t.length;n<r;n++)a+=t[n].marker+t[n].seriesName+"："+t[n].value+(e[t[n].seriesIndex].suffix||"")+"<br/>";return a}},yAxis:{axisTick:{show:!1}},series:A(e)})}}},G=F,N=Object(f["a"])(G,L,P,!1,null,null,null),V=N.exports,U=a("b775");function q(){return B.apply(this,arguments)}function B(){return B=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["a"])({url:"/api/dashborad",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}function J(){return K.apply(this,arguments)}function K(){return K=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["a"])({url:"/api/system_chart",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function Q(t,e){return W.apply(this,arguments)}function W(){return W=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["a"])({url:"/api/worker_chart/".concat(e),method:"get",data:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),W.apply(this,arguments)}var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"markdown-to-html",attrs:{id:t.id}})},Y=[],Z=a("547e"),tt=a.n(Z),et={},at={name:"index",props:{value:{type:String,default:""},id:{type:String,required:!1,default:function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)}},options:{type:Object,default:function(){return et}}},watch:{value:function(t){return this.setValue(t||"")}},mounted:function(){this.initView()},methods:{initView:function(){this.editor=new tt.a.factory({el:document.querySelector("#".concat(this.id)),height:"160px",viewer:!0,initialValue:this.value})},setValue:function(t){this.editor.setValue(t)}}},nt=at,rt=Object(f["a"])(nt,X,Y,!1,null,"1c6d4b6b",null),st=rt.exports;function it(){return ot.apply(this,arguments)}function ot(){return ot=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["a"])({url:"/api/version",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}function ct(){return lt.apply(this,arguments)}function lt(){return lt=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["a"])({url:"/api/announcement",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),lt.apply(this,arguments)}var ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.series;return a.map((function(t){var a=e.map((function(e){return e[t.key]&&e[t.key].toFixed(2)}));return Object(i["a"])(Object(i["a"])({},t),{},{data:a})}))},ht=function(t){var e=t.map((function(t){return u()(1e3*t.time).format("MM-DD HH:mm")}));return e},dt={name:"DashboardAdmin",components:{MarkdownToHtml:st,Performance:V,PanelGroup:v,LineChart:O,StatusGroup:I},data:function(){return{test:"# haha",dashborad:null,coin:"ETH",lineChart:"a",performanceChart:"a",lineChartTime:5,performanceChartTime:5,lineChartRadios:[{label:"a",value:this.$t("home.onlineMiner"),series:[{name:this.$t("home.onlineMiner"),color:["rgba(149,162,255)","rgba(149,162,255,0.7)"],key:"online"},{name:this.$t("home.averageOnlineMiner"),color:["rgb(250,128,128)","rgba(250,128,128,0.7)"],key:"offline"}]},{label:"b",value:this.$t("home.machineComputingPower"),series:[{name:this.$t("home.machineComputingPower"),color:["rgba(255,192,118)","rgba(255,192,118,0.7)"],suffix:"GH/S"},{name:this.$t("home.averageMachineComputingPower"),color:["rgba(250,231,104)","rgba(250,231,104,0.7)"],suffix:"GH/S"}]}],performanceChartRadios:[{label:"a",value:"CPU",series:[{name:this.$t("home.CPUUsage"),color:["rgba(135,232,133)","rgba(135,232,133,0.7)"],suffix:"%",key:"cpu"},{name:this.$t("home.systemMemoryUsage"),color:["rgba(60,185,252)","rgba(60,185,252,0.7)"],suffix:"M",key:"memory"}]},{label:"b",value:this.$t("home.RAM"),series:[{name:this.$t("home.systemMemoryUsage"),color:["rgba(60,185,252)","rgba(60,185,252,0.7)"],suffix:"M"},{name:this.$t("home.processMemoryUsage"),color:["rgba(115,171,245)","rgba(115,171,245,0.7)"],suffix:"M"}]}],options:[{label:this.$t("home.minute",{num:5}),value:5},{label:this.$t("home.minute",{num:10}),value:10},{label:this.$t("home.minute",{num:30}),value:30},{label:this.$t("home.hour",{num:1}),value:60},{label:this.$t("home.hour",{num:3}),value:180},{label:this.$t("home.hour",{num:6}),value:360},{label:this.$t("home.hour",{num:12}),value:720},{label:this.$t("home.day",{num:1}),value:1440}],version:null,announcement:null,lineChartData:null,performanceChartData:null,pollingST:{}}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:return e.next=4,t.getLineChartData();case 4:return e.next=6,t.getVersion();case 6:return e.next=8,t.getAnnouncement();case 8:return e.next=10,t.getPerformanceChartData();case 10:t.$nextTick((function(e){return t.polling(["getData","getLineChartData"])}));case 11:case"end":return e.stop()}}),e)})))()},computed:{current:function(){return this.dashborad?this.dashborad[this.coin]:null}},destroyed:function(){var t=this;Object.keys(this.pollingST).forEach((function(e){clearTimeout(t.pollingST[e])}))},methods:{polling:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t[e]&&(t.pollingST[e]=setInterval((function(){setTimeout((function(){return t[e]()}),0)}),5e3))}))},getLineChartData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q(t.coin);case 2:a=e.sent,n=a.data,n&&(t.lineChartData={series:ut(t.lineChartRadios.find((function(e){return e.label===t.lineChart})),n),xAxis:ht(n)});case 5:case"end":return e.stop()}}),e)})))()},getPerformanceChartData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:a=e.sent,n=a.data,n&&(t.performanceChartData={series:ut(t.performanceChartRadios.find((function(e){return e.label===t.performanceChart})),n),xAxis:ht(n)});case 5:case"end":return e.stop()}}),e)})))()},getVersion:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it();case 2:a=e.sent,n=a.code,r=a.data,200===n&&(t.version=r);case 6:case"end":return e.stop()}}),e)})))()},getAnnouncement:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:a=e.sent,n=a.code,r=a.data,200===n&&(t.announcement=r);case 6:case"end":return e.stop()}}),e)})))()},handleSetLineChartData:function(t){this.lineChartData=ut[t]},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:a=e.sent,n=a.data,n&&(t.dashborad=n);case 5:case"end":return e.stop()}}),e)})))()},onSelect:function(t){this.coin=t}}},mt=dt,ft=(a("af54"),Object(f["a"])(mt,n,r,!1,null,null,null));e["default"]=ft.exports},af54:function(t,e,a){"use strict";a("8b11")},d873:function(t,e,a){"use strict";a("ffa2")},df51:function(t,e,a){},ffa2:function(t,e,a){}}]);