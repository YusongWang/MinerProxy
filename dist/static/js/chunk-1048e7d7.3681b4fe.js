(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1048e7d7"],{2998:function(t,e,i){},"61b3":function(t,e,i){"use strict";i("2998")},"79e6":function(t,e,i){},"90e7":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return c}));var s=i("1da1"),n=(i("96cf"),i("b775"));function a(t){return r.apply(this,arguments)}function r(){return r=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({url:"/api/setport",method:"post",data:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)}function c(t){return o.apply(this,arguments)}function o(){return o=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({url:"/api/setpass",method:"post",data:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}},"96f1":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-certificate"},[i("el-button",{attrs:{icon:"el-icon-upload",size:"mini"},on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.$t("setting.uploadCertificate")))]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:t.$t("setting.uploadCertificate"),visible:t.visible,center:""},on:{"update:visible":function(e){t.visible=e}}},[i("div",{staticClass:"dialog-upload-box"},[i("el-steps",{attrs:{active:t.active,"finish-status":"success","align-center":""}},[i("el-step",{attrs:{title:t.$t("setting.uploadCertificate")}}),i("el-step",{attrs:{title:t.$t("setting.uploadKey")}}),i("el-step",{attrs:{title:t.$t("setting.process")}})],1),i("div",{staticClass:"step-content"},[t.active<2?[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"","show-file-list":!1,accept:t.accept,action:"#","http-request":function(e){return t.onUploadAction(e,t.active)}}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[i("span",[t._v(t._s(t.acceptText))]),i("span",{domProps:{innerHTML:t._s(t.$t("setting.uploadTip"))}})])])]:t._e(),2===t.active?[i("div",{class:{result:!0,error:!t.success}},[i("i",{class:{"el-icon-circle-check":t.success,"el-icon-circle-close":!t.success}}),i("span",[t._v(t._s(t.$t("setting.upload"))+t._s(this.$t("setting."+(t.success?"uploadStatus.success":"uploadStatus.error"))))])])]:t._e()],2)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.handleCancel}},[t._v(t._s(t.$t("cancel")))]),2===t.active?i("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v(t._s(t.$t("confirm")))]):t._e()],1)])],1)},n=[],a={name:"UploadCertificate",data:function(){return{visible:!1,loading:!1,active:0,success:Boolean((new Date).getTime()%2)}},watch:{visible:{immediate:!0,handler:function(){this.success=Boolean((new Date).getTime()%2)}}},computed:{accept:function(){return 0===this.active?".crt,application/pkix-cert,application/x-x509-ca-cert,application/x-x509-user-cert,.pem,application/x-pem-file,.cert,application/pkix-cert":".key,application/pkcs8"},acceptText:function(){return 0===this.active?this.$t("setting.acceptA"):this.$t("setting.acceptB")}},methods:{handleCancel:function(){this.visible=!1,this.loading=!1,this.active=0},handleSave:function(){this.handleCancel()},onError:function(t){this.$message.error(this.$t("setting.uploadStatus.error"))},onSuccess:function(t){console.log(t)},onUploadAction:function(t,e){1===this.active&&this.upload(e),this.active=e+1},upload:function(t){var e=this;this.loading=!0,setTimeout((function(){e.success?e.$message.success(e.$t("setting.uploadStatus.success")):e.$message.error(e.$t("setting.uploadStatus.error")),e.loading=!1}),1e3)}}},r=a,c=(i("d363"),i("2877")),o=Object(c["a"])(r,s,n,!1,null,null,null);e["a"]=o.exports},d363:function(t,e,i){"use strict";i("79e6")},e316:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"setting"},[i("div",{staticClass:"title"},[i("div",[i("svg-icon",{attrs:{"icon-class":"setting"}}),i("span",[t._v(t._s(t.$t("setting.basicTitle")))])],1)]),i("div",{staticClass:"setting-content"},[i("el-form",{ref:"basicForm",attrs:{model:t.form,rules:t.rules,"label-width":"160px"},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{staticClass:"setting-basic-form-item",attrs:{label:t.$t("setting.port"),prop:"port"}},[i("el-input",{attrs:{autocomplete:"off",placeholder:t.$t("pleaseEnter",{name:t.$t("setting.port")})},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}}),i("div",{staticClass:"form-item-after"})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSave}},[t._v(t._s(t.$t("save")))]),i("el-button",{on:{click:t.onReset}},[t._v(t._s(t.$t("reset")))])],1)],1)],1)])},n=[],a=i("1da1"),r=(i("96cf"),i("d9e2"),i("ac1f"),i("5319"),i("96f1")),c=i("90e7"),o={name:"index",components:{UploadCertificate:r["a"]},data:function(){var t=this,e=function(e,i,s){i||s(new Error(t.$t("pleaseEnter",{name:t.$t("setting.port")}))),(isNaN(i)||i%1!==0||+i>65535||+i<1)&&s(new Error(t.$t("miningPool.localPortLimit"))),s()};return{form:{port:null},rules:{port:[{required:!0,validator:e,trigger:"blur"}]},loading:!1}},watch:{form:{deep:!0,handler:function(t){var e=t.port;this.form.port=e?+e.replace(/[^\d]/g,""):""}}},methods:{onSave:function(){var t=this;this.$refs.basicForm.validate((function(e){if(!e)return!1;t.loading=!0,t.save()}))},save:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])(t.form);case 2:i=e.sent,s=i.code,t.loading=!1,200===s&&t.$message.success(t.$t("saveSuccess"));case 6:case"end":return e.stop()}}),e)})))()},onReset:function(){this.$refs.basicForm.resetFields()}}},l=o,u=(i("61b3"),i("2877")),p=Object(u["a"])(l,s,n,!1,null,"46279579",null);e["default"]=p.exports}}]);